# 정의하려는 것이 타입이라면 마커 인터페이스를 사용하라

## 마커 인터페이스란..

- 아무 메서드도 담고 있지 않고, 단지 클래스가 '특정 속성을 가짐'을 표시해주는 인터페이스이다.
- ex) Serializable, Clonable
```java
class myClass implements Serializable {
    // . . .
}

class myClass implements Clonable {
    // . . .
}
```
    implements Serializable

myClass가 Serializable 인터페이스를 구현함으로써 '직렬화 타입'임을 명시

    implements Clonable

마찬가지로 Clonable 인터페이스를 구현함으로써 '객체가 복제 가능함'을 명시

## 마커 인터페이스가 애너테이션보다 좋은 점

### 1. 구현한 클래스의 '인스턴스들을 구분하는 타입'으로 사용할 수 있다.

마커 애너테이션은 오류를 '런타임'에 발견한다.

하지만 마커 인터페이스는 어엿한 '타입'이기 때문에 오류를 컴파일 타임에 잡을 수 있다.

### 2. 적용 대상을 정밀하게 지정할 수 있다.
적용 대상(@Target)을 Element.TYPE으로 선언한 애너테이션은 모든 타입에 달 수 있다.

하지만 타입을 더 세밀하게 제한하지는 못한다.

'특정 인터페이스를 구현한 클래스에만 적용하고 싶은 마커'가 있다고 가정해보자


해당 마커를 인터페이스로 정의 => 마킹하고 싶은 클래스에서만 그 인터페이스를 구현하면 된다.

마킹된 타입은 자동으로 하위 타입임이 보장된다.

아래 코드는 마커 애너테이션 방식의 한계를 보여주고, 이를 마커 인터페이스로 해결한다.

```java
// 애너테이션 방식 - 세밀한 제한 불가능
@Target(ElementType.TYPE)
@interface Cacheable {
}

// 모든 타입에 달 수 있음.
@Cacheable
public class TempData {
    // 직렬화 불가능하지만 컴파일 오류 없음 - 문제!
    private transient Object complexObject;
}


// 마커 인터페이스 방식 - 세밀한 제한 가능
public interface Cacheable extends Serializable {
}

public class User implements Cacheable {  // Serializable 구현 강제됨
}
```


## 마커 인터페이스 vs 애너테이션
### 1. 클래스, 인터페이스 외의 요소에 마킹해야 할 때 : 애너테이션
- 애너테이션을 사용할 수 밖에 없다.
    - (클래스와 인터페이스만이 인터페이스를 구현/확장 할 수 있기에)
### 2. 클래스 or 인터페이스에 마킹한다면
- 마킹된 객체를 매개변수로 받는 메서드를 작성할 일이 있는가?
    - Yes : 마커 인터페이스
        - 컴파일 타입에 오류를 잡아낼 수 있다는 장점 존재.
    - Never : 마커 애너테이션
    - 애너테이션 적극 활용 프레임워크 : 마커 애너테이션

## 애너테이션은 '거대한 애너테이션 시스템의 지원을 받는다'
컴파일러, IDE, 프레임워크가 특별하게 처리해줌 → 이게 바로 "적극적인 지원".
## 예시
### 1. 컴파일러 지원
@Override
→ 부모 클래스/인터페이스의 메서드를 정확히 오버라이드하지 않으면 컴파일 에러 발생.
(마커 인터페이스는 이런 검증을 못함.)
### 2. 런타임/프레임워크 지원
JUnit의 @Test
→ 단순히 메서드 위에 달아두면 JUnit 실행기가 자동으로 테스트 메서드로 인식하고 실행.
### 3. IDE 지원
@Deprecated
→ IDE에서 취소선, 경고 메시지 자동 표시.

@SuppressWarnings
→ 특정 경고를 IDE나 컴파일러에서 무시하도록 지시.

# 요약
## 마커 인터페이스
### 1. 타입 정의만이 목적일 때
### 2. 적용 대상을 세밀하게 지정하고 싶을 때
### 3. 런타임이 아닌 컴파일에 오류를 잡을 수 있다는 장점 존재. (우선사용 고려)

## 마커 애너테이션
### 1. 클래스, 인터페이스 외의 요소에 마킹할 때
### 2. 애너테이션을 적극 활용하는 프레임워크에서
